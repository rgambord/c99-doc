<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.5.2.3 Structure and union members &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="6.5.2.4 Postfix increment and decrement operators" href="../4/index.html" />
    <link rel="prev" title="6.5.2.2 Function calls" href="../2/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../5/index.html">5. Environment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">6. Language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../1/index.html">6.1 Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../2/index.html">6.2 Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../3/index.html">6.3 Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../4/index.html">6.4 Lexical elements</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">6.5 Expressions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../1/index.html">6.5.1 Primary expressions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">6.5.2 Postfix operators</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../1/index.html">6.5.2.1 Array subscripting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2/index.html">6.5.2.2 Function calls</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">6.5.2.3 Structure and union members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../4/index.html">6.5.2.4 Postfix increment and decrement operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../5/index.html">6.5.2.5 Compound literals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../3/index.html">6.5.3 Unary operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../4/index.html">6.5.4 Cast operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../5/index.html">6.5.5 Multiplicative operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../6/index.html">6.5.6 Additive operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../7/index.html">6.5.7 Bitwise shift operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../8/index.html">6.5.8 Relational operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../9/index.html">6.5.9 Equality operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../10/index.html">6.5.10 Bitwise AND operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../11/index.html">6.5.11 Bitwise exclusive OR operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../12/index.html">6.5.12 Bitwise inclusive OR operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../13/index.html">6.5.13 Logical AND operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../14/index.html">6.5.14 Logical OR operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../15/index.html">6.5.15 Conditional operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../16/index.html">6.5.16 Assignment operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../17/index.html">6.5.17 Comma operator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../6/index.html">6.6 Constant expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../7/index.html">6.7 Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../8/index.html">6.8 Statements and blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../9/index.html">6.9 External definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../10/index.html">6.10 Preprocessing directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../11/index.html">6.11 Future language directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../7/index.html">7. Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">6. Language</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">6.5 Expressions</a></li>
          <li class="breadcrumb-item"><a href="../index.html">6.5.2 Postfix operators</a></li>
      <li class="breadcrumb-item active">6.5.2.3 Structure and union members</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../2/index.html" class="btn btn-neutral float-left" title="6.5.2.2 Function calls" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../4/index.html" class="btn btn-neutral float-right" title="6.5.2.4 Postfix increment and decrement operators" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="structure-and-union-members">
<span id="id1"></span><h1>6.5.2.3 Structure and union members<a class="headerlink" href="#structure-and-union-members" title="Permalink to this heading"></a></h1>
<p class="rubric">Constraints</p>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<p>The first operand of the . operator shall have a qualified or unqualified structure or union type, and the second operand shall name a member of that type.</p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>The first operand of the -&gt; operator shall have type “pointer to qualified or unqualified structure” or “pointer to qualified or unqualified union”, and the second operand shall name a member of the type pointed to.</p>
<p class="rubric">Semantics</p>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>A postfix expression followed by the . operator and an identifier designates a member of a structure or union object. The value is that of the named member,<a class="footnote-reference brackets" href="#note82" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> and is an lvalue if the first expression is an lvalue. If the first expression has qualified type, the result has the so-qualified version of the type of the designated member.</p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>A postfix expression followed by the -&gt; operator and an identifier designates a member of a structure or union object. The value is that of the named member of the object to which the first expression points, and is an lvalue.<a class="footnote-reference brackets" href="#note83" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> If the first expression is a pointer to a qualified type, the result has the so-qualified version of the type of the designated member.</p>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>One special guarantee is made in order to simplify the use of unions: if a union contains several structures that share a common initial sequence (see below), and if the union object currently contains one of these structures, it is permitted to inspect the common initial part of any of them anywhere that a declaration of the complete type of the union is visible. Two structures share a common initial sequence if corresponding members have compatible types (and, for bit-fields, the same widths) for a sequence of one or more initial members.</p>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXAMPLE</span> <span class="pre">1</span></code> If f is a function returning a structure or union, and x is a member of that structure or union, f().x is a valid postfix expression but is not an lvalue.</p>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXAMPLE</span> <span class="pre">2</span></code> In:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">s</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ci</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">s</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">s</span><span class="w"> </span><span class="n">cs</span><span class="p">;</span>
<span class="k">volatile</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">s</span><span class="w"> </span><span class="n">vs</span><span class="p">;</span>
</pre></div>
</div>
<p>the various members have the types:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="p">.</span><span class="n">i</span><span class="w">        </span><span class="kt">int</span>
<span class="n">s</span><span class="p">.</span><span class="n">ci</span><span class="w">       </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span>
<span class="n">cs</span><span class="p">.</span><span class="n">i</span><span class="w">       </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span>
<span class="n">cs</span><span class="p">.</span><span class="n">ci</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span>
<span class="n">vs</span><span class="p">.</span><span class="n">i</span><span class="w">       </span><span class="k">volatile</span><span class="w"> </span><span class="kt">int</span>
<span class="n">vs</span><span class="p">.</span><span class="n">ci</span><span class="w">      </span><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span>
</pre></div>
</div>
<div class="snum docutils container" id="p8">
<p><a class="reference internal" href="#p8"><span class="std std-ref">8</span></a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXAMPLE</span> <span class="pre">3</span></code> The following is a valid fragment:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">union</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="kt">int</span><span class="w">      </span><span class="n">alltypes</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="kt">int</span><span class="w">      </span><span class="n">type</span><span class="p">;</span>
<span class="w">              </span><span class="kt">int</span><span class="w">      </span><span class="n">intnode</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">ni</span><span class="p">;</span>
<span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="kt">int</span><span class="w">      </span><span class="n">type</span><span class="p">;</span>
<span class="w">              </span><span class="kt">double</span><span class="w"> </span><span class="n">doublenode</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">nf</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
<span class="n">u</span><span class="p">.</span><span class="n">nf</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">u</span><span class="p">.</span><span class="n">nf</span><span class="p">.</span><span class="n">doublenode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">n</span><span class="p">.</span><span class="n">alltypes</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">nf</span><span class="p">.</span><span class="n">doublenode</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">              </span><span class="cm">/* ... */</span>
</pre></div>
</div>
<p>The following is not a valid fragment (because the union type is not visible within function f):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">t1</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">t2</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">t1</span><span class="w"> </span><span class="o">*</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">t2</span><span class="w"> </span><span class="o">*</span><span class="n">p2</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">p1</span><span class="o">-&gt;</span><span class="n">m</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">              </span><span class="n">p2</span><span class="o">-&gt;</span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">p2</span><span class="o">-&gt;</span><span class="n">m</span><span class="p">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">p1</span><span class="o">-&gt;</span><span class="n">m</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">g</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">      </span><span class="k">union</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">struct</span><span class="w"> </span><span class="nc">t1</span><span class="w"> </span><span class="n">s1</span><span class="p">;</span>
<span class="w">              </span><span class="k">struct</span><span class="w"> </span><span class="nc">t2</span><span class="w"> </span><span class="n">s2</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="n">u</span><span class="p">;</span>
<span class="w">      </span><span class="cm">/* ... */</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="o">&amp;</span><span class="n">u</span><span class="p">.</span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">u</span><span class="p">.</span><span class="n">s2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Forward References</p>
<table class="hlist"><tr><td><ul class="simple">
<li><p><a class="reference internal" href="../../3/2/index.html#id1"><span class="std std-ref">6.5.3.2 Address and indirection operators</span></a></p></li>
</ul>
</td><td><ul class="simple">
<li><p><a class="reference internal" href="../../../7/2/1/index.html#id1"><span class="std std-ref">6.7.2.1 Structure and union specifiers</span></a></p></li>
</ul>
</td></tr></table>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note82" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>If the member used to access the contents of a union object is not the same as the member last used to store a value in the object, the appropriate part of the object representation of the value is reinterpreted as an object representation in the new type as described in <a class="reference internal" href="../../../2/6/index.html#id1"><span class="std std-ref">6.2.6</span></a> (a process sometimes called “type punning”). This might be a trap representation.</p>
</aside>
<aside class="footnote brackets" id="note83" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>If &amp;E is a valid pointer expression (where &amp; is the “address-of ‘’ operator, which generates a pointer to its operand), the expression (&amp;E)-&gt;MOS is the same as E.MOS.</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../2/index.html" class="btn btn-neutral float-left" title="6.5.2.2 Function calls" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../4/index.html" class="btn btn-neutral float-right" title="6.5.2.4 Postfix increment and decrement operators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>