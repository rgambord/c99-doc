<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.24.4.1.1 The wcstod, wcstof, and wcstold functions &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="7.24.4.1.2 The wcstol, wcstoll, wcstoul, and wcstoull functions" href="../2/index.html" />
    <link rel="prev" title="7.24.4.1 Wide string numeric conversion functions" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../5/index.html">5. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../6/index.html">6. Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">7. Library</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../1/index.html">7.1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../2/index.html">7.2 Diagnostics &lt;assert.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../3/index.html">7.3 Complex arithmetic &lt;complex.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../4/index.html">7.4 Character handling &lt;ctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../5/index.html">7.5 Errors &lt;errno.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../6/index.html">7.6 Floating-point environment &lt;fenv.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../7/index.html">7.7 Characteristics of floating types &lt;float.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../8/index.html">7.8 Format conversion of integer types &lt;inttypes.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../9/index.html">7.9 Alternative spellings &lt;iso646.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../10/index.html">7.10 Sizes of integer types &lt;limits.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../11/index.html">7.11 Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../12/index.html">7.12 Mathematics &lt;math.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../13/index.html">7.13 Nonlocal jumps &lt;setjmp.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../14/index.html">7.14 Signal handling &lt;signal.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../15/index.html">7.15 Variable arguments &lt;stdarg.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../16/index.html">7.16 Boolean type and values &lt;stdbool.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../17/index.html">7.17 Common definitions &lt;stddef.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../18/index.html">7.18 Integer types &lt;stdint.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../19/index.html">7.19 Input/output &lt;stdio.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../20/index.html">7.20 General utilities &lt;stdlib.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../21/index.html">7.21 String handling &lt;string.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../22/index.html">7.22 Type-generic math &lt;tgmath.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../23/index.html">7.23 Date and time &lt;time.h&gt;</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">7.24 Extended multibyte and wide character utilities &lt;wchar.h&gt;</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../1/index.html">7.24.1 Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../2/index.html">7.24.2 Formatted wide character input/output functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../3/index.html">7.24.3 Wide character input/output functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">7.24.4 General wide string utilities</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">7.24.4.1 Wide string numeric conversion functions</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="#">7.24.4.1.1 The wcstod, wcstof, and wcstold functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../2/index.html">7.24.4.1.2 The wcstol, wcstoll, wcstoul, and wcstoull functions</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../2/index.html">7.24.4.2 Wide string copying functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../3/index.html">7.24.4.3 Wide string concatenation functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../4/index.html">7.24.4.4 Wide string comparison functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../5/index.html">7.24.4.5 Wide string search functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../6/index.html">7.24.4.6 Miscellaneous functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../5/index.html">7.24.5 Wide character time conversion functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../6/index.html">7.24.6 Extended multibyte/wide character conversion utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../25/index.html">7.25 Wide character classification and mapping utilities &lt;wctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../26/index.html">7.26 Future library directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">7. Library</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">7.24 Extended multibyte and wide character utilities &lt;wchar.h&gt;</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">7.24.4 General wide string utilities</a></li>
          <li class="breadcrumb-item"><a href="../index.html">7.24.4.1 Wide string numeric conversion functions</a></li>
      <li class="breadcrumb-item active">7.24.4.1.1 The wcstod, wcstof, and wcstold functions</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../index.html" class="btn btn-neutral float-left" title="7.24.4.1 Wide string numeric conversion functions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../2/index.html" class="btn btn-neutral float-right" title="7.24.4.1.2 The wcstol, wcstoll, wcstoul, and wcstoull functions" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-wcstod-wcstof-and-wcstold-functions">
<span id="id1"></span><h1>7.24.4.1.1 The wcstod, wcstof, and wcstold functions<a class="headerlink" href="#the-wcstod-wcstof-and-wcstold-functions" title="Permalink to this heading"></a></h1>
<p class="rubric">Synopsis</p>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;wchar.h&gt;</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">wcstod</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">nptr</span><span class="p">,</span>
<span class="w">     </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">endptr</span><span class="p">);</span>
<span class="kt">float</span><span class="w"> </span><span class="nf">wcstof</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">nptr</span><span class="p">,</span>
<span class="w">     </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">endptr</span><span class="p">);</span>
<span class="kt">long</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">wcstold</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">nptr</span><span class="p">,</span>
<span class="w">     </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">endptr</span><span class="p">);</span>
</pre></div>
</div>
<p class="rubric">Description</p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>The wcstod, wcstof, and wcstold functions convert the initial portion of the wide string pointed to by nptr to double, float, and long double representation, respectively. First, they decompose the input string into three parts: an initial, possibly empty, sequence of white-space wide characters (as specified by the iswspace function), a subject sequence resembling a floating-point constant or representing an infinity or NaN; and a final wide string of one or more unrecognized wide characters, including the terminating null wide character of the input wide string. Then, they attempt to convert the subject sequence to a floating-point number, and return the result.</p>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>The expected form of the subject sequence is an optional plus or minus sign, then one of the following:</p>
<ul class="simple">
<li><p>a nonempty sequence of decimal digits optionally containing a decimal-point wide character, then an optional exponent part as defined for the corresponding single-byte characters in <a class="reference internal" href="../../../../../6/4/4/2/index.html#id1"><span class="std std-ref">6.4.4.2</span></a>;</p></li>
<li><p>a 0x or 0X, then a nonempty sequence of hexadecimal digits optionally containing a decimal-point wide character, then an optional binary exponent part as defined in <a class="reference internal" href="../../../../../6/4/4/2/index.html#id1"><span class="std std-ref">6.4.4.2</span></a>;</p></li>
<li><p>INF or INFINITY, or any other wide string equivalent except for case</p></li>
<li><p>NAN or NAN(n-wchar-sequence<sub>opt</sub>), or any other wide string equivalent except for case in the NAN part, where:</p></li>
</ul>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">-</span><span class="n">wchar</span><span class="o">-</span><span class="n">sequence</span><span class="o">:</span>
<span class="w">      </span><span class="n">digit</span>
<span class="w">      </span><span class="n">nondigit</span>
<span class="w">      </span><span class="n">n</span><span class="o">-</span><span class="n">wchar</span><span class="o">-</span><span class="n">sequence</span><span class="w"> </span><span class="n">digit</span>
<span class="w">      </span><span class="n">n</span><span class="o">-</span><span class="n">wchar</span><span class="o">-</span><span class="n">sequence</span><span class="w"> </span><span class="n">nondigit</span>
</pre></div>
</div>
<p>The subject sequence is defined as the longest initial subsequence of the input wide string, starting with the first non-white-space wide character, that is of the expected form. The subject sequence contains no wide characters if the input wide string is not of the expected form.</p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>If the subject sequence has the expected form for a floating-point number, the sequence of wide characters starting with the first digit or the decimal-point wide character (whichever occurs first) is interpreted as a floating constant according to the rules of <a class="reference internal" href="../../../../../6/4/4/2/index.html#id1"><span class="std std-ref">6.4.4.2</span></a>, except that the decimal-point wide character is used in place of a period, and that if neither an exponent part nor a decimal-point wide character appears in a decimal floating point number, or if a binary exponent part does not appear in a hexadecimal floating point number, an exponent part of the appropriate type with value zero is assumed to follow the last digit in the string. If the subject sequence begins with a minus sign, the sequence is interpreted as negated.<a class="footnote-reference brackets" href="#note294" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> A wide character sequence INF or INFINITY is interpreted as an infinity, if representable in the return type, else like a floating constant that is too large for the range of the return type. A wide character sequence NAN or NAN(n-wchar-sequence<sub>opt</sub>) is interpreted as a quiet NaN, if supported in the return type, else like a subject sequence part that does not have the expected form; the meaning of the n-wchar sequences is implementation-defined.<a class="footnote-reference brackets" href="#note295" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> A pointer to the final wide string is stored in the object pointed to by endptr, provided that endptr is not a null pointer.</p>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>If the subject sequence has the hexadecimal form and FLT_RADIX is a power of 2, the value resulting from the conversion is correctly rounded.</p>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p>In other than the “C” locale, additional locale-specific subject sequence forms may be accepted.</p>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p>If the subject sequence is empty or does not have the expected form, no conversion is performed; the value of nptr is stored in the object pointed to by endptr, provided that endptr is not a null pointer.</p>
<p class="rubric">Recommended practice</p>
<div class="snum docutils container" id="p8">
<p><a class="reference internal" href="#p8"><span class="std std-ref">8</span></a></p>
</div>
<p>If the subject sequence has the hexadecimal form, FLT_RADIX is not a power of 2, and the result is not exactly representable, the result should be one of the two numbers in the appropriate internal format that are adjacent to the hexadecimal floating source value, with the extra stipulation that the error should have a correct sign for the current rounding direction.</p>
<div class="snum docutils container" id="p9">
<p><a class="reference internal" href="#p9"><span class="std std-ref">9</span></a></p>
</div>
<p>If the subject sequence has the decimal form and at most DECIMAL_DIG (defined in <a class="reference internal" href="../../../../7/index.html#id1"><span class="std std-ref">&lt;float.h&gt;</span></a>) significant digits, the result should be correctly rounded. If the subject sequence D has the decimal form and more than DECIMAL_DIG significant digits, consider the two bounding, adjacent decimal strings L and U, both having DECIMAL_DIG significant digits, such that the values of L, D, and U satisfy L &lt;= D &lt;= U. The result should be one of the (equal or adjacent) values that would be obtained by correctly rounding L and U according to the current rounding direction, with the extra stipulation that the error with respect to D should have a correct sign for the current rounding direction.<a class="footnote-reference brackets" href="#note296" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p>
<p class="rubric">Returns</p>
<div class="snum docutils container" id="p10">
<p><a class="reference internal" href="#p10"><span class="std std-ref">10</span></a></p>
</div>
<p>The functions return the converted value, if any. If no conversion could be performed, zero is returned. If the correct value is outside the range of representable values, plus or minus HUGE_VAL, HUGE_VALF, or HUGE_VALL is returned (according to the return type and sign of the value), and the value of the macro ERANGE is stored in errno. If the result underflows (<a class="reference internal" href="../../../../12/1/index.html#id1"><span class="std std-ref">7.12.1</span></a>), the functions return a value whose magnitude is no greater than the smallest normalized positive number in the return type; whether errno acquires the value ERANGE is implementation-defined.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note294" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>It is unspecified whether a minus-signed sequence is converted to a negative number directly or by negating the value resulting from converting the corresponding unsigned sequence (see <a class="reference internal" href="../../../../../13/5/index.html#f-5"><span class="std std-ref">F.5</span></a>); the two methods may yield different results if rounding is toward positive or negative infinity. In either case, the functions honor the sign of zero if floating-point arithmetic supports signed zeros.</p>
</aside>
<aside class="footnote brackets" id="note295" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>An implementation may use the n-wchar sequence to determine extra information to be represented in the NaN’s significand.</p>
</aside>
<aside class="footnote brackets" id="note296" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>DECIMAL_DIG, defined in <a class="reference internal" href="../../../../7/index.html#id1"><span class="std std-ref">&lt;float.h&gt;</span></a>, should be sufficiently large that L and U will usually round to the same internal floating value, but if not will round to adjacent values.</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="7.24.4.1 Wide string numeric conversion functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../2/index.html" class="btn btn-neutral float-right" title="7.24.4.1.2 The wcstol, wcstoll, wcstoul, and wcstoull functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>