<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.19.2 Streams &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="7.19.3 Files" href="../3/index.html" />
    <link rel="prev" title="7.19.1 Introduction" href="../1/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../5/index.html">5. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../6/index.html">6. Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">7. Library</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../1/index.html">7.1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../2/index.html">7.2 Diagnostics &lt;assert.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../3/index.html">7.3 Complex arithmetic &lt;complex.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4/index.html">7.4 Character handling &lt;ctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../5/index.html">7.5 Errors &lt;errno.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../6/index.html">7.6 Floating-point environment &lt;fenv.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../7/index.html">7.7 Characteristics of floating types &lt;float.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../8/index.html">7.8 Format conversion of integer types &lt;inttypes.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../9/index.html">7.9 Alternative spellings &lt;iso646.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../10/index.html">7.10 Sizes of integer types &lt;limits.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../11/index.html">7.11 Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../12/index.html">7.12 Mathematics &lt;math.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../13/index.html">7.13 Nonlocal jumps &lt;setjmp.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../14/index.html">7.14 Signal handling &lt;signal.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../15/index.html">7.15 Variable arguments &lt;stdarg.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../16/index.html">7.16 Boolean type and values &lt;stdbool.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../17/index.html">7.17 Common definitions &lt;stddef.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../18/index.html">7.18 Integer types &lt;stdint.h&gt;</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">7.19 Input/output &lt;stdio.h&gt;</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../1/index.html">7.19.1 Introduction</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">7.19.2 Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3/index.html">7.19.3 Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../4/index.html">7.19.4 Operations on files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5/index.html">7.19.5 File access functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../6/index.html">7.19.6 Formatted input/output functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7/index.html">7.19.7 Character input/output functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8/index.html">7.19.8 Direct input/output functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9/index.html">7.19.9 File positioning functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../10/index.html">7.19.10 Error-handling functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../20/index.html">7.20 General utilities &lt;stdlib.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../21/index.html">7.21 String handling &lt;string.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../22/index.html">7.22 Type-generic math &lt;tgmath.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../23/index.html">7.23 Date and time &lt;time.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../24/index.html">7.24 Extended multibyte and wide character utilities &lt;wchar.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../25/index.html">7.25 Wide character classification and mapping utilities &lt;wctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../26/index.html">7.26 Future library directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">7. Library</a></li>
          <li class="breadcrumb-item"><a href="../index.html">7.19 Input/output &lt;stdio.h&gt;</a></li>
      <li class="breadcrumb-item active">7.19.2 Streams</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../1/index.html" class="btn btn-neutral float-left" title="7.19.1 Introduction" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../3/index.html" class="btn btn-neutral float-right" title="7.19.3 Files" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="streams">
<span id="id1"></span><h1>7.19.2 Streams<a class="headerlink" href="#streams" title="Permalink to this heading"></a></h1>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<p>Input and output, whether to or from physical devices such as terminals and tape drives, or whether to or from files supported on structured storage devices, are mapped into logical data streams, whose properties are more uniform than their various inputs and outputs. Two forms of mapping are supported, for text streams and for binary streams.<a class="footnote-reference brackets" href="#note232" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>A text stream is an ordered sequence of characters composed into lines, each line consisting of zero or more characters plus a terminating new-line character. Whether the last line requires a terminating new-line character is implementation-defined. Characters may have to be added, altered, or deleted on input and output to conform to differing conventions for representing text in the host environment. Thus, there need not be a one- to-one correspondence between the characters in a stream and those in the external representation. Data read in from a text stream will necessarily compare equal to the data that were earlier written out to that stream only if: the data consist only of printing characters and the control characters horizontal tab and new-line; no new-line character is immediately preceded by space characters; and the last character is a new-line character. Whether space characters that are written out immediately before a new-line character appear when read in is implementation-defined.</p>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>A binary stream is an ordered sequence of characters that can transparently record internal data. Data read in from a binary stream shall compare equal to the data that were earlier written out to that stream, under the same implementation. Such a stream may, however, have an implementation-defined number of null characters appended to the end of the stream.</p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>Each stream has an orientation. After a stream is associated with an external file, but before any operations are performed on it, the stream is without orientation. Once a wide character input/output function has been applied to a stream without orientation, the stream becomes a wide-oriented stream. Similarly, once a byte input/output function has been applied to a stream without orientation, the stream becomes a byte-oriented stream. Only a call to the freopen function or the fwide function can otherwise alter the orientation of a stream. (A successful call to freopen removes any orientation.)<a class="footnote-reference brackets" href="#note233" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>Byte input/output functions shall not be applied to a wide-oriented stream and wide character input/output functions shall not be applied to a byte-oriented stream. The remaining stream operations do not affect, and are not affected by, a stream’s orientation, except for the following additional restrictions:</p>
<ul class="simple">
<li><p>Binary wide-oriented streams have the file-positioning restrictions ascribed to both text and binary streams.</p></li>
<li><p>For wide-oriented streams, after a successful call to a file-positioning function that leaves the file position indicator prior to the end-of-file, a wide character output function can overwrite a partial multibyte character; any file contents beyond the byte(s) written are henceforth indeterminate.</p></li>
</ul>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p>Each wide-oriented stream has an associated mbstate_t object that stores the current parse state of the stream. A successful call to fgetpos stores a representation of the value of this mbstate_t object as part of the value of the fpos_t object. A later successful call to fsetpos using the same stored fpos_t value restores the value of the associated mbstate_t object as well as the position within the controlled stream.</p>
<p class="rubric">Environmental limits</p>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p>An implementation shall support text files with lines containing at least 254 characters, including the terminating new-line character. The value of the macro BUFSIZ shall be at least 256.</p>
<p class="rubric">Forward References</p>
<table class="hlist"><tr><td><ul class="simple">
<li><p><a class="reference internal" href="../5/4/index.html#id1"><span class="std std-ref">7.19.5.4 The freopen function</span></a></p></li>
<li><p><a class="reference internal" href="../../24/3/5/index.html#id1"><span class="std std-ref">7.24.3.5 The fwide function</span></a></p></li>
<li><p><a class="reference internal" href="../../25/1/index.html#id1"><span class="std std-ref">7.25.1 Introduction</span></a></p></li>
</ul>
</td><td><ul class="simple">
<li><p><a class="reference internal" href="../9/1/index.html#id1"><span class="std std-ref">7.19.9.1 The fgetpos function</span></a></p></li>
<li><p><a class="reference internal" href="../9/3/index.html#id1"><span class="std std-ref">7.19.9.3 The fsetpos function</span></a></p></li>
</ul>
</td></tr></table>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note232" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>An implementation need not distinguish between text streams and binary streams. In such an implementation, there need be no new-line characters in a text stream nor any limit to the length of a line.</p>
</aside>
<aside class="footnote brackets" id="note233" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>The three predefined streams stdin, stdout, and stderr are unoriented at program startup.</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../1/index.html" class="btn btn-neutral float-left" title="7.19.1 Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../3/index.html" class="btn btn-neutral float-right" title="7.19.3 Files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>