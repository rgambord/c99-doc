<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.6 Constant expressions &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="6.7 Declarations" href="../7/index.html" />
    <link rel="prev" title="6.5.17 Comma operator" href="../5/17/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../5/index.html">5. Environment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">6. Language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../1/index.html">6.1 Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/index.html">6.2 Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/index.html">6.3 Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/index.html">6.4 Lexical elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/index.html">6.5 Expressions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.6 Constant expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/index.html">6.7 Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/index.html">6.8 Statements and blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/index.html">6.9 External definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/index.html">6.10 Preprocessing directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/index.html">6.11 Future language directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../7/index.html">7. Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">6. Language</a></li>
      <li class="breadcrumb-item active">6.6 Constant expressions</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../5/17/index.html" class="btn btn-neutral float-left" title="6.5.17 Comma operator" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../7/index.html" class="btn btn-neutral float-right" title="6.7 Declarations" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="constant-expressions">
<span id="id1"></span><h1>6.6 Constant expressions<a class="headerlink" href="#constant-expressions" title="Permalink to this heading">ÔÉÅ</a></h1>
<p class="rubric">Syntax</p>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<div class="syntax-block docutils container">
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">constant-expression</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">conditional-expression</span></p>
</div>
</div>
</div>
<p class="rubric">Description</p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>A constant expression can be evaluated during translation rather than runtime, and accordingly may be used in any place that a constant may be.</p>
<p class="rubric">Constraints</p>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>Constant expressions shall not contain assignment, increment, decrement, function-call, or comma operators, except when they are contained within a subexpression that is not evaluated.<a class="footnote-reference brackets" href="#note98" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>Each constant expression shall evaluate to a constant that is in the range of representable values for its type.</p>
<p class="rubric">Semantics</p>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>An expression that evaluates to a constant is required in several contexts. If a floating expression is evaluated in the translation environment, the arithmetic precision and range shall be at least as great as if the expression were being evaluated in the execution environment.</p>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p>An integer constant expression<a class="footnote-reference brackets" href="#note99" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> shall have integer type and shall only have operands that are integer constants, enumeration constants, character constants, sizeof expressions whose results are integer constants, and floating constants that are the immediate operands of casts. Cast operators in an integer constant expression shall only convert arithmetic types to integer types, except as part of an operand to the sizeof operator.</p>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p>More latitude is permitted for constant expressions in initializers. Such a constant expression shall be, or evaluate to, one of the following:</p>
<ul class="simple">
<li><p>an arithmetic constant expression,</p></li>
<li><p>a null pointer constant,</p></li>
<li><p>an address constant, or</p></li>
<li><p>an address constant for an object type plus or minus an integer constant expression.</p></li>
</ul>
<div class="snum docutils container" id="p8">
<p><a class="reference internal" href="#p8"><span class="std std-ref">8</span></a></p>
</div>
<p>An arithmetic constant expression shall have arithmetic type and shall only have operands that are integer constants, floating constants, enumeration constants, character constants, and sizeof expressions. Cast operators in an arithmetic constant expression shall only convert arithmetic types to arithmetic types, except as part of an operand to a sizeof operator whose result is an integer constant.</p>
<div class="snum docutils container" id="p9">
<p><a class="reference internal" href="#p9"><span class="std std-ref">9</span></a></p>
</div>
<p>An address constant is a null pointer, a pointer to an lvalue designating an object of static storage duration, or a pointer to a function designator; it shall be created explicitly using the unary &amp; operator or an integer constant cast to pointer type, or implicitly by the use of an expression of array or function type. The array-subscript [] and member-access . and -&gt; operators, the address &amp; and indirection * unary operators, and pointer casts may be used in the creation of an address constant, but the value of an object shall not be accessed by use of these operators.</p>
<div class="snum docutils container" id="p10">
<p><a class="reference internal" href="#p10"><span class="std std-ref">10</span></a></p>
</div>
<p>An implementation may accept other forms of constant expressions.</p>
<div class="snum docutils container" id="p11">
<p><a class="reference internal" href="#p11"><span class="std std-ref">11</span></a></p>
</div>
<p>The semantic rules for the evaluation of a constant expression are the same as for nonconstant expressions.<a class="footnote-reference brackets" href="#note100" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p>
<p class="rubric">Forward References</p>
<table class="hlist"><tr><td><ul class="simple">
<li><p><a class="reference internal" href="../7/5/2/index.html#id1"><span class="std std-ref">6.7.5.2 Array declarators</span></a></p></li>
</ul>
</td><td><ul class="simple">
<li><p><a class="reference internal" href="../7/8/index.html#id1"><span class="std std-ref">6.7.8 Initialization</span></a></p></li>
</ul>
</td></tr></table>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>the expression is a valid integer constant expression with value one.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note98" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>The operand of a sizeof operator is usually not evaluated (<a class="reference internal" href="../5/3/4/index.html#id1"><span class="std std-ref">6.5.3.4</span></a>).</p>
</aside>
<aside class="footnote brackets" id="note99" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>An integer constant expression is used to specify the size of a bit-field member of a structure, the value of an enumeration constant, the size of an array, or the value of a case constant. Further constraints that apply to the integer constant expressions used in conditional-inclusion preprocessing directives are discussed in <a class="reference internal" href="../10/1/index.html#id1"><span class="std std-ref">6.10.1</span></a>.</p>
</aside>
<aside class="footnote brackets" id="note100" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>Thus, in the following initialization,</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../5/17/index.html" class="btn btn-neutral float-left" title="6.5.17 Comma operator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../7/index.html" class="btn btn-neutral float-right" title="6.7 Declarations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>