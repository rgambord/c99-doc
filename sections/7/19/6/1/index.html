<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.19.6.1 The fprintf function &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="7.19.6.2 The fscanf function" href="../2/index.html" />
    <link rel="prev" title="7.19.6 Formatted input/output functions" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../5/index.html">5. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../6/index.html">6. Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">7. Library</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../1/index.html">7.1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../2/index.html">7.2 Diagnostics &lt;assert.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../3/index.html">7.3 Complex arithmetic &lt;complex.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../4/index.html">7.4 Character handling &lt;ctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../5/index.html">7.5 Errors &lt;errno.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../6/index.html">7.6 Floating-point environment &lt;fenv.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../7/index.html">7.7 Characteristics of floating types &lt;float.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../8/index.html">7.8 Format conversion of integer types &lt;inttypes.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../9/index.html">7.9 Alternative spellings &lt;iso646.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../10/index.html">7.10 Sizes of integer types &lt;limits.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../11/index.html">7.11 Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../12/index.html">7.12 Mathematics &lt;math.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../13/index.html">7.13 Nonlocal jumps &lt;setjmp.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../14/index.html">7.14 Signal handling &lt;signal.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../15/index.html">7.15 Variable arguments &lt;stdarg.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../16/index.html">7.16 Boolean type and values &lt;stdbool.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../17/index.html">7.17 Common definitions &lt;stddef.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../18/index.html">7.18 Integer types &lt;stdint.h&gt;</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">7.19 Input/output &lt;stdio.h&gt;</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../1/index.html">7.19.1 Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../2/index.html">7.19.2 Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../3/index.html">7.19.3 Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../4/index.html">7.19.4 Operations on files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../5/index.html">7.19.5 File access functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">7.19.6 Formatted input/output functions</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">7.19.6.1 The fprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2/index.html">7.19.6.2 The fscanf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../3/index.html">7.19.6.3 The printf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../4/index.html">7.19.6.4 The scanf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../5/index.html">7.19.6.5 The snprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../6/index.html">7.19.6.6 The sprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../7/index.html">7.19.6.7 The sscanf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../8/index.html">7.19.6.8 The vfprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../9/index.html">7.19.6.9 The vfscanf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../10/index.html">7.19.6.10 The vprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../11/index.html">7.19.6.11 The vscanf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../12/index.html">7.19.6.12 The vsnprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../13/index.html">7.19.6.13 The vsprintf function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../14/index.html">7.19.6.14 The vsscanf function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../7/index.html">7.19.7 Character input/output functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../8/index.html">7.19.8 Direct input/output functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../9/index.html">7.19.9 File positioning functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../10/index.html">7.19.10 Error-handling functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../20/index.html">7.20 General utilities &lt;stdlib.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../21/index.html">7.21 String handling &lt;string.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../22/index.html">7.22 Type-generic math &lt;tgmath.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../23/index.html">7.23 Date and time &lt;time.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../24/index.html">7.24 Extended multibyte and wide character utilities &lt;wchar.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../25/index.html">7.25 Wide character classification and mapping utilities &lt;wctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../26/index.html">7.26 Future library directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">7. Library</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">7.19 Input/output &lt;stdio.h&gt;</a></li>
          <li class="breadcrumb-item"><a href="../index.html">7.19.6 Formatted input/output functions</a></li>
      <li class="breadcrumb-item active">7.19.6.1 The fprintf function</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../index.html" class="btn btn-neutral float-left" title="7.19.6 Formatted input/output functions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../2/index.html" class="btn btn-neutral float-right" title="7.19.6.2 The fscanf function" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-fprintf-function">
<span id="id1"></span><h1>7.19.6.1 The fprintf function<a class="headerlink" href="#the-fprintf-function" title="Permalink to this heading"></a></h1>
<p class="rubric">Synopsis</p>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">fprintf</span><span class="p">(</span><span class="no">FILE</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">stream</span><span class="p">,</span>
<span class="w">     </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">restrict</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="p">...);</span>
</pre></div>
</div>
<p class="rubric">Description</p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>The fprintf function writes output to the stream pointed to by stream, under control of the string pointed to by format that specifies how subsequent arguments are converted for output. If there are insufficient arguments for the format, the behavior is undefined. If the format is exhausted while arguments remain, the excess arguments are evaluated (as always) but are otherwise ignored. The fprintf function returns when the end of the format string is encountered.</p>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>The format shall be a multibyte character sequence, beginning and ending in its initial shift state. The format is composed of zero or more directives: ordinary multibyte characters (not %), which are copied unchanged to the output stream; and conversion specifications, each of which results in fetching zero or more subsequent arguments, converting them, if applicable, according to the corresponding conversion specifier, and then writing the result to the output stream.</p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>Each conversion specification is introduced by the character %. After the %, the following appear in sequence:</p>
<ul class="simple">
<li><p>Zero or more flags (in any order) that modify the meaning of the conversion specification.</p></li>
<li><p>An optional minimum field width. If the converted value has fewer characters than the field width, it is padded with spaces (by default) on the left (or right, if the left adjustment flag, described later, has been given) to the field width. The field width takes the form of an asterisk * (described later) or a nonnegative decimal integer.<a class="footnote-reference brackets" href="#note241" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></li>
<li><p>An optional precision that gives the minimum number of digits to appear for the d, i, o, u, x, and X conversions, the number of digits to appear after the decimal-point character for a, A, e, E, f, and F conversions, the maximum number of significant digits for the g and G conversions, or the maximum number of bytes to be written for s conversions. The precision takes the form of a period (.) followed either by an asterisk * (described later) or by an optional decimal integer; if only the period is specified, the precision is taken as zero. If a precision appears with any other conversion specifier, the behavior is undefined.</p></li>
<li><p>An optional length modifier that specifies the size of the argument.</p></li>
<li><p>A conversion specifier character that specifies the type of conversion to be applied.</p></li>
</ul>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>As noted above, a field width, or precision, or both, may be indicated by an asterisk. In this case, an int argument supplies the field width or precision. The arguments specifying field width, or precision, or both, shall appear (in that order) before the argument (if any) to be converted. A negative field width argument is taken as a - flag followed by a positive field width. A negative precision argument is taken as if the precision were omitted.</p>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p>The flag characters and their meanings are:</p>
<dl class="simple">
<dt>-</dt><dd><p>The result of the conversion is left-justified within the field. (It is right-justified if this flag is not specified.)</p>
</dd>
<dt>+</dt><dd><p>The result of a signed conversion always begins with a plus or minus sign. (It begins with a sign only when a negative value is converted if this flag is not specified.)<a class="footnote-reference brackets" href="#note242" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
</dd>
<dt>space</dt><dd><p>If the first character of a signed conversion is not a sign, or if a signed conversion results in no characters, a space is prefixed to the result. If the space and + flags both appear, the space flag is ignored.</p>
</dd>
<dt>#</dt><dd><p>The result is converted to an “alternative form”. For o conversion, it increases the precision, if and only if necessary, to force the first digit of the result to be a zero (if the value and precision are both 0, a single 0 is printed). For x (or X) conversion, a nonzero result has 0x (or 0X) prefixed to it. For a, A, e, E, f, F, g, and G conversions, the result of converting a floating-point number always contains a decimal-point character, even if no digits follow it. (Normally, a decimal-point character appears in the result of these conversions only if a digit follows it.) For g and G conversions, trailing zeros are not removed from the result. For other conversions, the behavior is undefined.</p>
</dd>
<dt>0</dt><dd><p>For d, i, o, u, x, X, a, A, e, E, f, F, g, and G conversions, leading zeros (following any indication of sign or base) are used to pad to the field width rather than performing space padding, except when converting an infinity or NaN. If the 0 and - flags both appear, the 0 flag is ignored. For d, i, o, u, x, and X conversions, if a precision is specified, the 0 flag is ignored. For other conversions, the behavior is undefined.</p>
</dd>
</dl>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p>The length modifiers and their meanings are:</p>
<dl class="simple">
<dt>hh</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to a signed char or unsigned char argument (the argument will have been promoted according to the integer promotions, but its value shall be converted to signed char or unsigned char before printing); or that a following n conversion specifier applies to a pointer to a signed char argument.</p>
</dd>
<dt>h</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to a short int or unsigned short int argument (the argument will have been promoted according to the integer promotions, but its value shall be converted to short int or unsigned short int before printing); or that a following n conversion specifier applies to a pointer to a short int argument.</p>
</dd>
<dt>l (ell)</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to a long int or unsigned long int argument; that a following n conversion specifier applies to a pointer to a long int argument; that a following c conversion specifier applies to a wint_t argument; that a following s conversion specifier applies to a pointer to a wchar_t argument; or has no effect on a following a, A, e, E, f, F, g, or G conversion specifier.</p>
</dd>
<dt>ll (ell-ell)</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to a long long int or unsigned long long int argument; or that a following n conversion specifier applies to a pointer to a long long int argument.</p>
</dd>
<dt>j</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to an intmax_t or uintmax_t argument; or that a following n conversion specifier applies to a pointer to an intmax_t argument.</p>
</dd>
<dt>z</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to a size_t or the corresponding signed integer type argument; or that a following n conversion specifier applies to a pointer to a signed integer type corresponding to size_t argument.</p>
</dd>
<dt>t</dt><dd><p>Specifies that a following d, i, o, u, x, or X conversion specifier applies to a ptrdiff_t or the corresponding unsigned integer type argument; or that a following n conversion specifier applies to a pointer to a ptrdiff_t argument.</p>
</dd>
<dt>L</dt><dd><p>Specifies that a following a, A, e, E, f, F, g, or G conversion specifier applies to a long double argument.</p>
</dd>
</dl>
<p>If a length modifier appears with any conversion specifier other than as specified above, the behavior is undefined.</p>
<div class="snum docutils container" id="p8">
<p><a class="reference internal" href="#p8"><span class="std std-ref">8</span></a></p>
</div>
<p>The conversion specifiers and their meanings are:</p>
<dl>
<dt>d,i</dt><dd><p>The int argument is converted to signed decimal in the style [-]dddd. The precision specifies the minimum number of digits to appear; if the value being converted can be represented in fewer digits, it is expanded with leading zeros. The default precision is 1. The result of converting a zero value with a precision of zero is no characters.</p>
</dd>
<dt>o,u,x,X</dt><dd><p>The unsigned int argument is converted to unsigned octal (o), unsigned decimal (u), or unsigned hexadecimal notation (x or X) in the style dddd; the letters abcdef are used for x conversion and the letters ABCDEF for X conversion. The precision specifies the minimum number of digits to appear; if the value being converted can be represented in fewer digits, it is expanded with leading zeros. The default precision is 1. The result of converting a zero value with a precision of zero is no characters.</p>
</dd>
<dt>f,F</dt><dd><p>A double argument representing a floating-point number is converted to decimal notation in the style [-]ddd.ddd, where the number of digits after the decimal-point character is equal to the precision specification. If the precision is missing, it is taken as 6; if the precision is zero and the # flag is not specified, no decimal-point character appears. If a decimal-point character appears, at least one digit appears before it. The value is rounded to the appropriate number of digits. A double argument representing an infinity is converted in one of the styles [-]inf or [-]infinity – which style is implementation-defined. A double argument representing a NaN is converted in one of the styles [-]nan or [-]nan(n-char-sequence) – which style, and the meaning of any n-char-sequence, is implementation-defined. The F conversion specifier produces INF, INFINITY, or NAN instead of inf, infinity, or nan, respectively.<a class="footnote-reference brackets" href="#note243" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p>
</dd>
<dt>e,E</dt><dd><p>A double argument representing a floating-point number is converted in the style [-]d.ddd e(+-)dd, where there is one digit (which is nonzero if the argument is nonzero) before the decimal-point character and the number of digits after it is equal to the precision; if the precision is missing, it is taken as 6; if the precision is zero and the # flag is not specified, no decimal-point character appears. The value is rounded to the appropriate number of digits. The E conversion specifier produces a number with E instead of e introducing the exponent. The exponent always contains at least two digits, and only as many more digits as necessary to represent the exponent. If the value is zero, the exponent is zero. A double argument representing an infinity or NaN is converted in the style of an f or F conversion specifier.</p>
</dd>
<dt>g,G</dt><dd><p>A double argument representing a floating-point number is converted in style f or e (or in style F or E in the case of a G conversion specifier), depending on the value converted and the precision. Let P equal the precision if nonzero, 6 if the precision is omitted, or 1 if the precision is zero. Then, if a conversion with style E would have an exponent of X :</p>
<ul class="simple">
<li><p>if P &gt; X &gt;= -4, the conversion is with style f (or F) and precision P - (X + 1).</p></li>
<li><p>otherwise, the conversion is with style e (or E) and precision P - 1.</p></li>
</ul>
<p>Finally, unless the # flag is used, any trailing zeros are removed from the fractional portion of the result and the decimal-point character is removed if there is no fractional portion remaining. A double argument representing an infinity or NaN is converted in the style of an f or F conversion specifier.</p>
</dd>
<dt>a,A</dt><dd><p>A double argument representing a floating-point number is converted in the style [-]0xh.hhhh p(+-)d, where there is one hexadecimal digit (which is nonzero if the argument is a normalized floating-point number and is otherwise unspecified) before the decimal-point character<a class="footnote-reference brackets" href="#note244" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a> and the number of hexadecimal digits after it is equal to the precision; if the precision is missing and FLT_RADIX is a power of 2, then the precision is sufficient for an exact representation of the value; if the precision is missing and FLT_RADIX is not a power of 2, then the precision is sufficient to distinguish<a class="footnote-reference brackets" href="#note245" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> values of type double, except that trailing zeros may be omitted; if the precision is zero and the # flag is not specified, no decimal- point character appears. The letters abcdef are used for a conversion and the letters ABCDEF for A conversion. The A conversion specifier produces a number with X and P instead of x and p. The exponent always contains at least one digit, and only as many more digits as necessary to represent the decimal exponent of 2. If the value is zero, the exponent is zero. A double argument representing an infinity or NaN is converted in the style of an f or F conversion specifier.</p>
</dd>
<dt>c</dt><dd><p>If no l length modifier is present, the int argument is converted to an unsigned char, and the resulting character is written. If an l length modifier is present, the wint_t argument is converted as if by an ls conversion specification with no precision and an argument that points to the initial element of a two-element array of wchar_t, the first element containing the wint_t argument to the lc conversion specification and the second a null wide character.</p>
</dd>
<dt>s</dt><dd><p>If no l length modifier is present, the argument shall be a pointer to the initial element of an array of character type.<a class="footnote-reference brackets" href="#note246" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> Characters from the array are written up to (but not including) the terminating null character. If the precision is specified, no more than that many bytes are written. If the precision is not specified or is greater than the size of the array, the array shall contain a null character. If an l length modifier is present, the argument shall be a pointer to the initial element of an array of wchar_t type. Wide characters from the array are converted to multibyte characters (each as if by a call to the wcrtomb function, with the conversion state described by an mbstate_t object initialized to zero before the first wide character is converted) up to and including a terminating null wide character. The resulting multibyte characters are written up to (but not including) the terminating null character (byte). If no precision is specified, the array shall contain a null wide character. If a precision is specified, no more than that many bytes are written (including shift sequences, if any), and the array shall contain a null wide character if, to equal the multibyte character sequence length given by the precision, the function would need to access a wide character one past the end of the array. In no case is a partial multibyte character written.<a class="footnote-reference brackets" href="#note247" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a></p>
</dd>
<dt>p</dt><dd><p>The argument shall be a pointer to void. The value of the pointer is converted to a sequence of printing characters, in an implementation-defined manner.</p>
</dd>
<dt>n</dt><dd><p>The argument shall be a pointer to signed integer into which is written the number of characters written to the output stream so far by this call to fprintf. No argument is converted, but one is consumed. If the conversion specification includes any flags, a field width, or a precision, the behavior is undefined.</p>
</dd>
<dt>%</dt><dd><p>A % character is written. No argument is converted. The complete conversion specification shall be %%.</p>
</dd>
</dl>
<div class="snum docutils container" id="p9">
<p><a class="reference internal" href="#p9"><span class="std std-ref">9</span></a></p>
</div>
<p>If a conversion specification is invalid, the behavior is undefined.<a class="footnote-reference brackets" href="#note248" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a> If any argument is not the correct type for the corresponding conversion specification, the behavior is undefined.</p>
<div class="snum docutils container" id="p10">
<p><a class="reference internal" href="#p10"><span class="std std-ref">10</span></a></p>
</div>
<p>In no case does a nonexistent or small field width cause truncation of a field; if the result of a conversion is wider than the field width, the field is expanded to contain the conversion result.</p>
<div class="snum docutils container" id="p11">
<p><a class="reference internal" href="#p11"><span class="std std-ref">11</span></a></p>
</div>
<p>For a and A conversions, if FLT_RADIX is a power of 2, the value is correctly rounded to a hexadecimal floating number with the given precision.</p>
<p class="rubric">Recommended practice</p>
<div class="snum docutils container" id="p12">
<p><a class="reference internal" href="#p12"><span class="std std-ref">12</span></a></p>
</div>
<p>For a and A conversions, if FLT_RADIX is not a power of 2 and the result is not exactly representable in the given precision, the result should be one of the two adjacent numbers in hexadecimal floating style with the given precision, with the extra stipulation that the error should have a correct sign for the current rounding direction.</p>
<div class="snum docutils container" id="p13">
<p><a class="reference internal" href="#p13"><span class="std std-ref">13</span></a></p>
</div>
<p>For e, E, f, F, g, and G conversions, if the number of significant decimal digits is at most DECIMAL_DIG, then the result should be correctly rounded.<a class="footnote-reference brackets" href="#note249" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a> If the number of significant decimal digits is more than DECIMAL_DIG but the source value is exactly representable with DECIMAL_DIG digits, then the result should be an exact representation with trailing zeros. Otherwise, the source value is bounded by two adjacent decimal strings L &lt; U, both having DECIMAL_DIG significant digits; the value of the resultant decimal string D should satisfy L &lt;= D &lt;= U, with the extra stipulation that the error should have a correct sign for the current rounding direction.</p>
<p class="rubric">Returns</p>
<div class="snum docutils container" id="p14">
<p><a class="reference internal" href="#p14"><span class="std std-ref">14</span></a></p>
</div>
<p>The fprintf function returns the number of characters transmitted, or a negative value if an output or encoding error occurred.</p>
<p class="rubric">Environmental limits</p>
<div class="snum docutils container" id="p15">
<p><a class="reference internal" href="#p15"><span class="std std-ref">15</span></a></p>
</div>
<p>The number of characters that can be produced by any single conversion shall be at least 4095.</p>
<div class="snum docutils container" id="p16">
<p><a class="reference internal" href="#p16"><span class="std std-ref">16</span></a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXAMPLE</span> <span class="pre">1</span></code> To print a date and time in the form “Sunday, July 3, 10:02” followed by pi to five decimal places:</p>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cm">/* ... */</span>
<span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">weekday</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">month</span><span class="p">;</span><span class="w">      </span><span class="c1">// pointers to strings</span>
<span class="kt">int</span><span class="w"> </span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">hour</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">;</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s, %s %d, %.2d:%.2d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">weekday</span><span class="p">,</span><span class="w"> </span><span class="n">month</span><span class="p">,</span><span class="w"> </span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">hour</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pi = %.5f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">atan</span><span class="p">(</span><span class="mf">1.0</span><span class="p">));</span>
</pre></div>
</div>
<div class="snum docutils container" id="p17">
<p><a class="reference internal" href="#p17"><span class="std std-ref">17</span></a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXAMPLE</span> <span class="pre">2</span></code> In this example, multibyte characters do not have a state-dependent encoding, and the members of the extended character set that consist of more than one byte each consist of exactly two bytes, the first of which is denoted here by a and the second by an uppercase letter.</p>
<div class="snum docutils container" id="p18">
<p><a class="reference internal" href="#p18"><span class="std std-ref">18</span></a></p>
</div>
<p>Given the following wide string with length seven,</p>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="n">wstr</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot; X Yabc Z W&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>the seven calls</p>
<div class="highlight-c99 notranslate"><div class="highlight"><pre><span></span><span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|1234567890123|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|%13ls|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">wstr</span><span class="p">);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|%-13.9ls|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">wstr</span><span class="p">);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|%13.10ls|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">wstr</span><span class="p">);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|%13.11ls|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">wstr</span><span class="p">);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|%13.15ls|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">wstr</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="nf">fprintf</span><span class="p">(</span><span class="nv">stdout</span><span class="p">,</span><span class="w">          </span><span class="s">&quot;|%13lc|</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">wint_t</span><span class="p">)</span><span class="w"> </span><span class="n">wstr</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span>
</pre></div>
</div>
<p>will print the following seven lines:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>|1234567890123|
|   X Yabc Z W|
| X Yabc Z    |
|     X Yabc Z|
|   X Yabc Z W|
|      abc Z W|
|            Z|
</pre></div>
</div>
<p class="rubric">Forward References</p>
<table class="hlist"><tr><td><ul class="simple">
<li><p><a class="reference internal" href="../../../24/6/index.html#id1"><span class="std std-ref">7.24.6 Extended multibyte/wide character conversion utilities</span></a></p></li>
</ul>
</td><td><ul class="simple">
<li><p><a class="reference internal" href="../../../24/6/3/3/index.html#id1"><span class="std std-ref">7.24.6.3.3 The wcrtomb function</span></a></p></li>
</ul>
</td></tr></table>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note241" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Note that 0 is taken as a flag, not as the beginning of a field width.</p>
</aside>
<aside class="footnote brackets" id="note242" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>The results of all floating conversions of a negative zero, and of negative values that round to zero, include a minus sign.</p>
</aside>
<aside class="footnote brackets" id="note243" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>When applied to infinite and NaN values, the -, +, and space flag characters have their usual meaning; the # and 0 flag characters have no effect.</p>
</aside>
<aside class="footnote brackets" id="note244" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">4</a><span class="fn-bracket">]</span></span>
<p>Binary implementations can choose the hexadecimal digit to the left of the decimal-point character so that subsequent digits align to nibble (4-bit) boundaries.</p>
</aside>
<aside class="footnote brackets" id="note245" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">5</a><span class="fn-bracket">]</span></span>
<p>The precision p is sufficient to distinguish values of the source type if 16<sup>p-1</sup> &gt; b n where b is FLT_RADIX and n is the number of base-b digits in the significand of the source type. A smaller p might suffice depending on the implementation’s scheme for determining the digit to the left of the decimal-point character.</p>
</aside>
<aside class="footnote brackets" id="note246" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">6</a><span class="fn-bracket">]</span></span>
<p>No special provisions are made for multibyte characters.</p>
</aside>
<aside class="footnote brackets" id="note247" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">7</a><span class="fn-bracket">]</span></span>
<p>Redundant shift sequences may result if multibyte characters have a state-dependent encoding.</p>
</aside>
<aside class="footnote brackets" id="note248" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">8</a><span class="fn-bracket">]</span></span>
<p>See “future library directions” (<a class="reference internal" href="../../../26/9/index.html#id1"><span class="std std-ref">7.26.9</span></a>).</p>
</aside>
<aside class="footnote brackets" id="note249" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">9</a><span class="fn-bracket">]</span></span>
<p>For binary-to-decimal conversion, the result format’s values are the numbers representable with the given format specifier. The number of significant digits is determined by the format specifier, and in the case of fixed-point conversion by the source value as well.</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="7.19.6 Formatted input/output functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../2/index.html" class="btn btn-neutral float-right" title="7.19.6.2 The fscanf function" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>