<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.10 Preprocessing directives &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="6.10.1 Conditional inclusion" href="1/index.html" />
    <link rel="prev" title="6.9.2 External object definitions" href="../9/2/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../5/index.html">5. Environment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">6. Language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../1/index.html">6.1 Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/index.html">6.2 Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/index.html">6.3 Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/index.html">6.4 Lexical elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/index.html">6.5 Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6/index.html">6.6 Constant expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7/index.html">6.7 Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/index.html">6.8 Statements and blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/index.html">6.9 External definitions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.10 Preprocessing directives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1/index.html">6.10.1 Conditional inclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="2/index.html">6.10.2 Source file inclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="3/index.html">6.10.3 Macro replacement</a></li>
<li class="toctree-l3"><a class="reference internal" href="4/index.html">6.10.4 Line control</a></li>
<li class="toctree-l3"><a class="reference internal" href="5/index.html">6.10.5 Error directive</a></li>
<li class="toctree-l3"><a class="reference internal" href="6/index.html">6.10.6 Pragma directive</a></li>
<li class="toctree-l3"><a class="reference internal" href="7/index.html">6.10.7 Null directive</a></li>
<li class="toctree-l3"><a class="reference internal" href="8/index.html">6.10.8 Predefined macro names</a></li>
<li class="toctree-l3"><a class="reference internal" href="9/index.html">6.10.9 Pragma operator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../11/index.html">6.11 Future language directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../7/index.html">7. Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">6. Language</a></li>
      <li class="breadcrumb-item active">6.10 Preprocessing directives</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../9/2/index.html" class="btn btn-neutral float-left" title="6.9.2 External object definitions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1/index.html" class="btn btn-neutral float-right" title="6.10.1 Conditional inclusion" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="preprocessing-directives">
<span id="id1"></span><h1>6.10 Preprocessing directives<a class="headerlink" href="#preprocessing-directives" title="Permalink to this heading"></a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="1/index.html">6.10.1 Conditional inclusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="2/index.html">6.10.2 Source file inclusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/index.html">6.10.3 Macro replacement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="3/1/index.html">6.10.3.1 Argument substitution</a></li>
<li class="toctree-l2"><a class="reference internal" href="3/2/index.html">6.10.3.2 The # operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="3/3/index.html">6.10.3.3 The ## operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="3/4/index.html">6.10.3.4 Rescanning and further replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="3/5/index.html">6.10.3.5 Scope of macro definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="4/index.html">6.10.4 Line control</a></li>
<li class="toctree-l1"><a class="reference internal" href="5/index.html">6.10.5 Error directive</a></li>
<li class="toctree-l1"><a class="reference internal" href="6/index.html">6.10.6 Pragma directive</a></li>
<li class="toctree-l1"><a class="reference internal" href="7/index.html">6.10.7 Null directive</a></li>
<li class="toctree-l1"><a class="reference internal" href="8/index.html">6.10.8 Predefined macro names</a></li>
<li class="toctree-l1"><a class="reference internal" href="9/index.html">6.10.9 Pragma operator</a></li>
</ul>
</div>
<p class="rubric">Syntax</p>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<div class="syntax-block docutils container">
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">preprocessing-file</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">group</span><span class="syn-opt">opt</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">group</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">group-part</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">group</span> <span class="syn-nonterm">group-part</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">group-part</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">if-section</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">control-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">text-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-nonterm">non-directive</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">if-section</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">if-group</span> <span class="syn-nonterm">elif-groups</span><span class="syn-opt">opt</span> <span class="syn-nonterm">else-group</span><span class="syn-opt">opt</span> <span class="syn-nonterm">endif-line</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">if-group</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">if</span> <span class="syn-nonterm">constant-expression</span> <span class="syn-nonterm">new-line</span> <span class="syn-nonterm">group</span><span class="syn-opt">opt</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">ifdef</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">new-line</span> <span class="syn-nonterm">group</span><span class="syn-opt">opt</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">ifndef</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">new-line</span> <span class="syn-nonterm">group</span><span class="syn-opt">opt</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">elif-groups</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">elif-group</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">elif-groups</span> <span class="syn-nonterm">elif-group</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">elif-group</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">elif</span> <span class="syn-nonterm">constant-expression</span> <span class="syn-nonterm">new-line</span> <span class="syn-nonterm">group</span><span class="syn-opt">opt</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">else-group</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">else</span> <span class="syn-nonterm">new-line</span> <span class="syn-nonterm">group</span><span class="syn-opt">opt</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">endif-line</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">endif</span> <span class="syn-nonterm">new-line</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">control-line</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">include</span> <span class="syn-nonterm">pp-tokens</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">define</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">replacement-list</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">define</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">lparen</span> <span class="syn-nonterm">identifier-list</span><span class="syn-opt">opt</span> <span class="syn-term">)</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">replacement-list</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">define</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">lparen</span> <span class="syn-term">...</span> <span class="syn-term">)</span> <span class="syn-nonterm">replacement-list</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">define</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">lparen</span> <span class="syn-nonterm">identifier-list</span> <span class="syn-term">,</span> <span class="syn-term">...</span> <span class="syn-term">)</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">replacement-list</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">undef</span> <span class="syn-nonterm">identifier</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">line</span> <span class="syn-nonterm">pp-tokens</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">error</span> <span class="syn-nonterm">pp-tokens</span><span class="syn-opt">opt</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-term">pragma</span> <span class="syn-nonterm">pp-tokens</span><span class="syn-opt">opt</span> <span class="syn-nonterm">new-line</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-term">#</span> <span class="syn-nonterm">new-line</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">text-line</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">pp-tokens</span><span class="syn-opt">opt</span> <span class="syn-nonterm">new-line</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">non-directive</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">pp-tokens</span> <span class="syn-nonterm">new-line</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">lparen</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p>a <span class="syn-term">(</span> character not immediately preceded by white-space</p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">replacement-list</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">pp-tokens</span><span class="syn-opt">opt</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">pp-tokens</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">preprocessing-token</span></p>
</div>
<div class="syntax-rule docutils container">
<p><span class="syn-nonterm">pp-tokens</span> <span class="syn-nonterm">preprocessing-token</span></p>
</div>
</div>
<div class="syntax-production docutils container">
<div class="syntax-definition docutils container">
<p><span class="syn-nonterm">new-line</span>:</p>
</div>
<div class="syntax-rule docutils container">
<p>the <span class="syn-nonterm">new-line</span> character</p>
</div>
</div>
</div>
<p class="rubric">Description</p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>A preprocessing directive consists of a sequence of preprocessing tokens that satisfies the following constraints: The first token in the sequence is a # preprocessing token that (at the start of translation phase 4) is either the first character in the source file (optionally after white space containing no new-line characters) or that follows white space containing at least one new-line character. The last token in the sequence is the first new- line character that follows the first token in the sequence.<a class="footnote-reference brackets" href="#note143" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> A new-line character ends the preprocessing directive even if it occurs within what would otherwise be an invocation of a function-like macro.</p>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>A text line shall not begin with a # preprocessing token. A non-directive shall not begin with any of the directive names appearing in the syntax.</p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>When in a group that is skipped (<a class="reference internal" href="1/index.html#id1"><span class="std std-ref">6.10.1</span></a>), the directive syntax is relaxed to allow any sequence of preprocessing tokens to occur between the directive name and the following new-line character.</p>
<p class="rubric">Constraints</p>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>The only white-space characters that shall appear between preprocessing tokens within a preprocessing directive (from just after the introducing # preprocessing token through just before the terminating new-line character) are space and horizontal-tab (including spaces that have replaced comments or possibly other white-space characters in translation phase 3).</p>
<p class="rubric">Semantics</p>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p>The implementation can process and skip sections of source files conditionally, include other source files, and replace macros. These capabilities are called preprocessing, because conceptually they occur before translation of the resulting translation unit.</p>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p>The preprocessing tokens within a preprocessing directive are not subject to macro expansion unless otherwise stated.</p>
<div class="snum docutils container" id="p8">
<p><a class="reference internal" href="#p8"><span class="std std-ref">8</span></a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EXAMPLE</span></code> In:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>#define EMPTY
EMPTY # include &lt;file.h&gt;
</pre></div>
</div>
<p>the sequence of preprocessing tokens on the second line is not a preprocessing directive, because it does not begin with a # at the start of translation phase 4, even though it will do so after the macro EMPTY has been replaced.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note143" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Thus, preprocessing directives are commonly called “lines”. These “lines” have no other syntactic significance, as all white space is equivalent except in certain situations during preprocessing (see the # character string literal creation operator in <a class="reference internal" href="3/2/index.html#id1"><span class="std std-ref">6.10.3.2</span></a>, for example).</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../9/2/index.html" class="btn btn-neutral float-left" title="6.9.2 External object definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1/index.html" class="btn btn-neutral float-right" title="6.10.1 Conditional inclusion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>