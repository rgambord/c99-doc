<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>F.8.2 Expression transformations &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="F.8.3 Relational operators" href="../3/index.html" />
    <link rel="prev" title="F.8.1 Global transformations" href="../1/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../5/index.html">5. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../6/index.html">6. Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../7/index.html">7. Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../12/index.html">Annex E</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Annex F</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../1/index.html">F.1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../2/index.html">F.2 Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../3/index.html">F.3 Operators and functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4/index.html">F.4 Floating to integer conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../5/index.html">F.5 Binary-decimal conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../6/index.html">F.6 Contracted expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../7/index.html">F.7 Floating-point environment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">F.8 Optimization</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../1/index.html">F.8.1 Global transformations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">F.8.2 Expression transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3/index.html">F.8.3 Relational operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../4/index.html">F.8.4 Constant arithmetic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../9/index.html">F.9 Mathematics &lt;math.h&gt;</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Annex F</a></li>
          <li class="breadcrumb-item"><a href="../index.html">F.8 Optimization</a></li>
      <li class="breadcrumb-item active">F.8.2 Expression transformations</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../1/index.html" class="btn btn-neutral float-left" title="F.8.1 Global transformations" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../3/index.html" class="btn btn-neutral float-right" title="F.8.3 Relational operators" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="f-8-2-expression-transformations">
<span id="f-8-2"></span><h1>F.8.2 Expression transformations<a class="headerlink" href="#f-8-2-expression-transformations" title="Permalink to this heading"></a></h1>
<div class="snum docutils container" id="f-8-2p1">
<p><a class="reference internal" href="#f-8-2p1"><span class="std std-ref">1</span></a></p>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x / 2 &lt;-&gt; x * 0.5
</pre></div>
</div>
<p>Although similar transformations involving inexact constants generally do not yield numerically equivalent expressions, if the constants are exact then such transformations can be made on IEC 60559 machines and others that round perfectly.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1 * x and x / 1 -&gt; x
</pre></div>
</div>
<p>The expressions 1 * x, x / 1, and x are equivalent (on IEC 60559 machines, among others).<a class="footnote-reference brackets" href="#note317" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x / x -&gt; 1.0
</pre></div>
</div>
<p>The expressions x / x and 1.0 are not equivalent if x can be zero, infinite, or NaN.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x - y &lt;-&gt; x + (-y)
</pre></div>
</div>
<p>The expressions x - y, x + (-y), and (-y) + x are equivalent (on IEC 60559 machines, among others).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x - y &lt;-&gt; -(y - x)
</pre></div>
</div>
<p>The expressions x - y and -(y - x) are not equivalent because 1 - 1 is +0 but -(1 - 1) is -0 (in the default rounding direction).<a class="footnote-reference brackets" href="#note318" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x - x -&gt; 0.0
</pre></div>
</div>
<p>The expressions x - x and 0.0 are not equivalent if x is a NaN or infinite.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0 * x -&gt; 0.0
</pre></div>
</div>
<p>The expressions 0 * x and 0.0 are not equivalent if x is a NaN, infinite, or -0.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x + 0 -&gt; x
</pre></div>
</div>
<p>The expressions x + 0 and x are not equivalent if x is -0, because (-0) + (+0) yields +0 (in the default rounding direction), not -0.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>x - 0 -&gt; x
</pre></div>
</div>
<p>(+0) - (+0) yields -0 when rounding is downward (toward -(inf)), but +0 otherwise, and (-0) - (+0) always yields -0; so, if the state of the FENV_ACCESS pragma is “off”, promising default rounding, then the implementation can replace x - 0 by x, even if x might be zero.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-x &lt;-&gt; 0 - x
</pre></div>
</div>
<p>The expressions -x and 0 - x are not equivalent if x is +0, because -(+0) yields -0, but 0 - (+0) yields +0 (unless rounding is downward).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1/(1/ (+-) (inf)) is (+-) (inf)
</pre></div>
</div>
<p>and</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>conj(csqrt(z)) is csqrt(conj(z)),
</pre></div>
</div>
<p>for complex z.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note317" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Strict support for signaling NaNs – not required by this specification – would invalidate these and other transformations that remove arithmetic operators.</p>
</aside>
<aside class="footnote brackets" id="note318" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>IEC 60559 prescribes a signed zero to preserve mathematical identities across certain discontinuities. Examples include:</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../1/index.html" class="btn btn-neutral float-left" title="F.8.1 Global transformations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../3/index.html" class="btn btn-neutral float-right" title="F.8.3 Relational operators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>