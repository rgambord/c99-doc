<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7.6 Floating-point environment &lt;fenv.h&gt; &mdash; C99 Language Standard  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/brand.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="7.6.1 The FENV_ACCESS pragma" href="1/index.html" />
    <link rel="prev" title="7.5 Errors &lt;errno.h&gt;" href="../5/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            C99 Language Standard
              <img src="../../../_static/logo.svg" class="logo" alt="Logo"/>
          </a><div>
<h3>Quick search</h3>
<script>
  (function() {
    var cx = '......';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=071d6321bf4c049e7' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../1/index.html">1. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../2/index.html">2. Normative references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3/index.html">3. Terms, definitions, and symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../4/index.html">4. Conformance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../5/index.html">5. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../6/index.html">6. Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">7. Library</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../1/index.html">7.1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2/index.html">7.2 Diagnostics &lt;assert.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3/index.html">7.3 Complex arithmetic &lt;complex.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/index.html">7.4 Character handling &lt;ctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/index.html">7.5 Errors &lt;errno.h&gt;</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7.6 Floating-point environment &lt;fenv.h&gt;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1/index.html">7.6.1 The FENV_ACCESS pragma</a></li>
<li class="toctree-l3"><a class="reference internal" href="2/index.html">7.6.2 Floating-point exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="3/index.html">7.6.3 Rounding</a></li>
<li class="toctree-l3"><a class="reference internal" href="4/index.html">7.6.4 Environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../7/index.html">7.7 Characteristics of floating types &lt;float.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8/index.html">7.8 Format conversion of integer types &lt;inttypes.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9/index.html">7.9 Alternative spellings &lt;iso646.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/index.html">7.10 Sizes of integer types &lt;limits.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/index.html">7.11 Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/index.html">7.12 Mathematics &lt;math.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/index.html">7.13 Nonlocal jumps &lt;setjmp.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/index.html">7.14 Signal handling &lt;signal.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/index.html">7.15 Variable arguments &lt;stdarg.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16/index.html">7.16 Boolean type and values &lt;stdbool.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/index.html">7.17 Common definitions &lt;stddef.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../18/index.html">7.18 Integer types &lt;stdint.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../19/index.html">7.19 Input/output &lt;stdio.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20/index.html">7.20 General utilities &lt;stdlib.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../21/index.html">7.21 String handling &lt;string.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../22/index.html">7.22 Type-generic math &lt;tgmath.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../23/index.html">7.23 Date and time &lt;time.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../24/index.html">7.24 Extended multibyte and wide character utilities &lt;wchar.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../25/index.html">7.25 Wide character classification and mapping utilities &lt;wctype.h&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="../26/index.html">7.26 Future library directions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../8/index.html">Annex A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../9/index.html">Annex B</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10/index.html">Annex C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../11/index.html">Annex D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../12/index.html">Annex E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../13/index.html">Annex F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../14/index.html">Annex G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../15/index.html">Annex H</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../16/index.html">Annex I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../17/index.html">Annex J</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../18/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">C99 Language Standard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">7. Library</a></li>
      <li class="breadcrumb-item active">7.6 Floating-point environment &lt;fenv.h&gt;</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="../5/index.html" class="btn btn-neutral float-left" title="7.5 Errors &lt;errno.h&gt;" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1/index.html" class="btn btn-neutral float-right" title="7.6.1 The FENV_ACCESS pragma" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="floating-point-environment-fenv-h">
<span id="id1"></span><h1>7.6 Floating-point environment &lt;fenv.h&gt;<a class="headerlink" href="#floating-point-environment-fenv-h" title="Permalink to this heading"></a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="1/index.html">7.6.1 The FENV_ACCESS pragma</a></li>
<li class="toctree-l1"><a class="reference internal" href="2/index.html">7.6.2 Floating-point exceptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="2/1/index.html">7.6.2.1 The feclearexcept function</a></li>
<li class="toctree-l2"><a class="reference internal" href="2/2/index.html">7.6.2.2 The fegetexceptflag function</a></li>
<li class="toctree-l2"><a class="reference internal" href="2/3/index.html">7.6.2.3 The feraiseexcept function</a></li>
<li class="toctree-l2"><a class="reference internal" href="2/4/index.html">7.6.2.4 The fesetexceptflag function</a></li>
<li class="toctree-l2"><a class="reference internal" href="2/5/index.html">7.6.2.5 The fetestexcept function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="3/index.html">7.6.3 Rounding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="3/1/index.html">7.6.3.1 The fegetround function</a></li>
<li class="toctree-l2"><a class="reference internal" href="3/2/index.html">7.6.3.2 The fesetround function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="4/index.html">7.6.4 Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="4/1/index.html">7.6.4.1 The fegetenv function</a></li>
<li class="toctree-l2"><a class="reference internal" href="4/2/index.html">7.6.4.2 The feholdexcept function</a></li>
<li class="toctree-l2"><a class="reference internal" href="4/3/index.html">7.6.4.3 The fesetenv function</a></li>
<li class="toctree-l2"><a class="reference internal" href="4/4/index.html">7.6.4.4 The feupdateenv function</a></li>
</ul>
</li>
</ul>
</div>
<div class="snum docutils container" id="p1">
<p><a class="reference internal" href="#p1"><span class="std std-ref">1</span></a></p>
</div>
<p>The header <a class="reference internal" href="#id1"><span class="std std-ref">&lt;fenv.h&gt;</span></a> declares two types and several macros and functions to provide access to the floating-point environment. The floating-point environment refers collectively to any floating-point status flags and control modes supported by the implementation.<a class="footnote-reference brackets" href="#note178" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> A floating-point status flag is a system variable whose value is set (but never cleared) when a floating-point exception is raised, which occurs as a side effect of exceptional floating-point arithmetic to provide auxiliary information.<a class="footnote-reference brackets" href="#note179" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> A floating- point control mode is a system variable whose value may be set by the user to affect the subsequent behavior of floating-point arithmetic.</p>
<div class="snum docutils container" id="p2">
<p><a class="reference internal" href="#p2"><span class="std std-ref">2</span></a></p>
</div>
<p>Certain programming conventions support the intended model of use for the floating- point environment:<a class="footnote-reference brackets" href="#note180" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p>
<ul class="simple">
<li><p>a function call does not alter its caller’s floating-point control modes, clear its caller’s floating-point status flags, nor depend on the state of its caller’s floating-point status flags unless the function is so documented;</p></li>
<li><p>a function call is assumed to require default floating-point control modes, unless its documentation promises otherwise;</p></li>
<li><p>a function call is assumed to have the potential for raising floating-point exceptions, unless its documentation promises otherwise.</p></li>
</ul>
<div class="snum docutils container" id="p3">
<p><a class="reference internal" href="#p3"><span class="std std-ref">3</span></a></p>
</div>
<p>The type</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">fenv_t</span>
</pre></div>
</div>
<p>represents the entire floating-point environment.</p>
<div class="snum docutils container" id="p4">
<p><a class="reference internal" href="#p4"><span class="std std-ref">4</span></a></p>
</div>
<p>The type</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">fexcept_t</span>
</pre></div>
</div>
<p>represents the floating-point status flags collectively, including any status the implementation associates with the flags.</p>
<div class="snum docutils container" id="p5">
<p><a class="reference internal" href="#p5"><span class="std std-ref">5</span></a></p>
</div>
<p>Each of the macros</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">FE_DIVBYZERO</span>
<span class="n">FE_INEXACT</span>
<span class="n">FE_INVALID</span>
<span class="n">FE_OVERFLOW</span>
<span class="n">FE_UNDERFLOW</span>
</pre></div>
</div>
<p>is defined if and only if the implementation supports the floating-point exception by means of the functions in 7.6.2.<a class="footnote-reference brackets" href="#note181" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a> Additional implementation-defined floating-point exceptions, with macro definitions beginning with FE_ and an uppercase letter, may also be specified by the implementation. The defined macros expand to integer constant expressions with values such that bitwise ORs of all combinations of the macros result in distinct values, and furthermore, bitwise ANDs of all combinations of the macros result in zero.<a class="footnote-reference brackets" href="#note182" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a></p>
<div class="snum docutils container" id="p6">
<p><a class="reference internal" href="#p6"><span class="std std-ref">6</span></a></p>
</div>
<p>The macro</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">FE_ALL_EXCEPT</span>
</pre></div>
</div>
<p>is simply the bitwise OR of all floating-point exception macros defined by the implementation. If no such macros are defined, FE_ALL_EXCEPT shall be defined as 0.</p>
<div class="snum docutils container" id="p7">
<p><a class="reference internal" href="#p7"><span class="std std-ref">7</span></a></p>
</div>
<p>Each of the macros</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">FE_DOWNWARD</span>
<span class="n">FE_TONEAREST</span>
<span class="n">FE_TOWARDZERO</span>
<span class="n">FE_UPWARD</span>
</pre></div>
</div>
<p>is defined if and only if the implementation supports getting and setting the represented rounding direction by means of the fegetround and fesetround functions. Additional implementation-defined rounding directions, with macro definitions beginning with FE_ and an uppercase letter, may also be specified by the implementation. The defined macros expand to integer constant expressions whose values are distinct nonnegative values.<a class="footnote-reference brackets" href="#note183" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></p>
<div class="snum docutils container" id="p8">
<p><a class="reference internal" href="#p8"><span class="std std-ref">8</span></a></p>
</div>
<p>The macro</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">FE_DFL_ENV</span>
</pre></div>
</div>
<p>represents the default floating-point environment – the one installed at program startup – and has type “pointer to const-qualified fenv_t”. It can be used as an argument to <a class="reference internal" href="#id1"><span class="std std-ref">&lt;fenv.h&gt;</span></a> functions that manage the floating-point environment.</p>
<div class="snum docutils container" id="p9">
<p><a class="reference internal" href="#p9"><span class="std std-ref">9</span></a></p>
</div>
<p>Additional implementation-defined environments, with macro definitions beginning with FE_ and an uppercase letter, and having type “pointer to const-qualified fenv_t”, may also be specified by the implementation.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="note178" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>This header is designed to support the floating-point exception status flags and directed-rounding control modes required by IEC 60559, and other similar floating-point state information. Also it is designed to facilitate code portability among all systems.</p>
</aside>
<aside class="footnote brackets" id="note179" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>A floating-point status flag is not an object and can be set more than once within an expression.</p>
</aside>
<aside class="footnote brackets" id="note180" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>With these conventions, a programmer can safely assume default floating-point control modes (or be unaware of them). The responsibilities associated with accessing the floating-point environment fall on the programmer or program that does so explicitly.</p>
</aside>
<aside class="footnote brackets" id="note181" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">4</a><span class="fn-bracket">]</span></span>
<p>The implementation supports an exception if there are circumstances where a call to at least one of the functions in <a class="reference internal" href="2/index.html#id1"><span class="std std-ref">7.6.2</span></a>, using the macro as the appropriate argument, will succeed. It is not necessary for all the functions to succeed all the time.</p>
</aside>
<aside class="footnote brackets" id="note182" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">5</a><span class="fn-bracket">]</span></span>
<p>The macros should be distinct powers of two.</p>
</aside>
<aside class="footnote brackets" id="note183" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">6</a><span class="fn-bracket">]</span></span>
<p>Even though the rounding direction macros may expand to constants corresponding to the values of FLT_ROUNDS, they are not required to do so.</p>
</aside>
</aside>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../5/index.html" class="btn btn-neutral float-left" title="7.5 Errors &lt;errno.h&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1/index.html" class="btn btn-neutral float-right" title="7.6.1 The FENV_ACCESS pragma" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>